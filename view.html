<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Time-Table</title>
    <link rel="stylesheet" href="tps_style.css">
    <script type="text/javascript" src="tps_script.js"></script>
    <script type="text/javascript" src="html2canvas.js"></script>

    <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script> -->
    <!-- <script src="https://unpkg.com/jspdf@latest/dist/jspdf.umd.min.js"></script> -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.4.1/html2canvas.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.0.272/jspdf.debug.js"></script>
    
</head>

<body>
    <nav class="navbar">
        <h1>Apna Time-Table</h1>
    </nav>
    <div class="back">
        <button><a href="tps.html">Back</a></button>
    </div>
    <div class="download">
        <button><a onclick="download_func();">Download</a></button>
    </div>
    <div class="table" id="table_1">
        <table class="tbl">
            <thead>
                <th class="head">Index</th>
                <th class="head">Time</th>
                <th class="head">Mon</th>
                <th class="head">Tue</th>
                <th class="head">Wed</th>
                <th class="head">Thu</th>
                <th class="head">Fri</th>
                <th class="head">Sat</th>
                <th class="head">Sun</th>
                <!-- <th class="head">Delete</t> -->
            </thead>
            <tbody id="tableBody">

                <!-- <td class="dt" data-lable="index">-</td>
                <td class="dt" data-lable="time">5:00 PM</td>
                <td class="dt" data-lable="mon"> A.T.</td>
                <td class="dt" data-lable="tue"> A.T.</td>
                <td class="dt" data-lable="wed"> A.T.</td>
                <td class="dt" data-lable="thu"> A.T.</td>
                <td class="dt" data-lable="fri"> A.T.</td>
                <td class="dt" data-lable="sat"> A.T.</td>
                <td class="dt" data-lable="sun"> A.T.</td> -->
                <!-- <td class="dt dlt" data-lable="delete" ><a class="btntp">Delete</a></td> -->

            </tbody>
        </table>
    </div>


    <script>
        updatelite_view();
        function download_func() {

            let doc = new jsPDF('p', 'mm', 'a4');

            doc.addHTML(document.getElementById('table_1'), function () {
                doc.save('time_table.pdf');
            });
        }

        // function download_func(quality = 1) {
        //     const filename = 'Time_table.pdf';

        //     html2canvas(document.querySelector('.table'),{ scale: quality }).then(canvas => {
        //         let pdf = new jsPDF('p', 'mm', 'a4');
        //         pdf.addImage(canvas.toDataURL('image/png'), 'PNG', 0, 0, 211, 298);
        //         pdf.save(filename);
        //     });
        // }
        // function download_func() {
        //     html2canvas(document.body, {
        //         onrendered: function (canvas) {
        //             var img = canvas.toDataURL("image/png", 1.0);
        //             var doc = new jsPDF("p", "mm", "a4");
        //             var width = doc.internal.pageSize.getWidth();
        //             var height = doc.internal.pageSize.getHeight();
        //             doc.addImage(img, 'JPEG', 0, 0 ,width,height);
        //             doc.save('test.pdf');
        //         }
        //     })
        // }
    </script>
</body>

</html>